from random import*

def getMove( myScore,  mySnowballs,  myDucksUsed,  myMoveHistory, opponentsScore,  opponentsSnowballs,  opponentsDucksUsed,  opponentMoveHistory ):
  move = ""
  rp = 0
  dp = 0
  sp = 0

#If opponents score is 0 
  if opponentsScore==0:
    #If our bot has 0 Snowballs
    if mySnowballs==0:
      rp = 100
      sp = 0
      dp = 0
    #If our bot has 1,2 Snowballs
    if 0<mySnowballs<=2:
      rp = 100
      sp = 0
      dp = 0
    #If our bot has 3,4 Snowballs
    if 0<mySnowballs<4:
      rp = 100
      sp = 0
      dp = 0
    #If our bot has more than 4 Snowballs
    if mySnowballs>=4:
      rp = 0
      sp = 100
      dp = 0
    #If our bot has 10 Snowballs
    if mySnowballs==10:
      sb = 100
      dp = 0
      rp = 0

#If opponents score is 1
  if opponentsScore==1:
      #If Opponent bot has 0 Snowballs
      if opponentsSnowballs==0:
        #If our bot has 0 Snowballs
        if mySnowballs==0:
          rp = 100
          sp = 0
          dp = 0
        #If our bot has 1,2,3,4 Snowballs
        elif mySnowballs<=4:
          #If opponent bot has used 5 Ducks
          if opponentsDucksUsed==5:
            rp = 0
            sp = 100
            dp = 0
          #If opponent bot has used 0,1,2 Ducks
          if opponentsDucksUsed<=2:
            rp = 70
            sp = 30
            dp = 0
          #If opponent bot has used 3,4 Ducks
          if opponentsDucksUsed<=4:
            rp = 90
            sp = 10
            dp = 0
        #If our bot has more than 4 Snowballs
        elif mySnowballs<=10:
          #If opponent bot has used 5 Ducks
          if opponentsDucksUsed==5:
            rp = 0
            sp = 100
            dp = 0
          #If opponent bot has used 0,1,2 Ducks
          if opponentsDucksUsed<=2:
            rp = 10
            sp = 90
            dp = 0
          #If opponent bot has used 3,4 Ducks
          if opponentsDucksUsed<=4:
            rp = 0
            sp = 100
            dp = 0 
          
      #If opponent bot has 1,2,3,4 Snowballs and our bot has ducks left
      if opponentsSnowballs<=4 and myDucksUsed<5:
        #If our bot has 0 Snowballs
        if mySnowballs==0:
          rp = 70
          sp = 0
          dp = 30

        #If our bot has 1,2,3,4 Snowballs
        elif mySnowballs<=4:
          #If opponent bot has used 5 Ducks
          if opponentsDucksUsed==5:
            rp = 90
            sp = 10
            dp = 0
          #If opponent bot has used 0,1,2 Ducks
          if opponentsDucksUsed<=2:
            rp = 80
            sp = 20
            dp = 0
          #If opponent bot has used 3,4 Ducks
          if opponentsDucksUsed<=4:
            rp = 20
            sp = 80
            dp = 0

        #If our bot has more than 4 Snowballs
        elif mySnowballs<=10:
          #If opponent bot has used 5 Ducks
          if opponentsDucksUsed==5:
            rp = 0
            sp = 100
            dp = 0
          #If opponent bot has used 0,1,2 Ducks
          if opponentsDucksUsed<=2:
            rp = 20
            sp = 80
            dp = 0
          #If opponent bot has used 3,4 Ducks
          if opponentsDucksUsed<=4:
            rp = 0
            sp = 100
            dp = 0 
        
      #If opponent bot has more than 4 Snowballs    
      if opponentsSnowballs<=10:
        #If our bot has 0 Snowballs
        if mySnowballs==0:
          rp = 100
          sp = 0
          dp = 0
        
        #If our bot has 1,2,3,4 Snowballs
        elif mySnowballs<=4:
          #If opponent bot has used 5 Ducks
          if opponentsDucksUsed==5:
            rp = 0
            sp = 100
            dp = 0
          #If opponent bot has used 0,1,2 Ducks
          if opponentsDucksUsed<=2:
            rp = 0
            sp = 30
            dp = 0
          #If opponent bot has used 3,4 Ducks
          if opponentsDucksUsed<=4:
            rp = 90
            sp = 10
            dp = 0
        #If our bot has more than 4 Snowballs
        elif mySnowballs<=10:
          #If opponent bot has used 5 Ducks
          if opponentsDucksUsed==5:
            rp = 0
            sp = 100
            dp = 0
          #If opponent bot has used 0,1,2 Ducks
          if opponentsDucksUsed<=2:
            rp = 10
            sp = 90
            dp = 0
          #If opponent bot has used 3,4 Ducks
          if opponentsDucksUsed<=4:
            rp = 0
            sp = 100
            dp = 0  



#If opponents score is 2
  if opponentsScore == 2:

    #If Opponent has snowballs
    if opponentsSnowballs>0:
  
    #If our bot used all ducks 
      if myDucksUsed==5:
        #If our bot has 0 Snowballs
        if mySnowballs==0:
          rp = 100
          sp = 0
          dp = 0
        #If our bot has more than 0 Snowballs
        else:
          rp = 0
          sp = 100
          dp = 0
      #If opponent bot has used 0,1,2 Ducks
      elif myDucksUsed<=2:
        #If our bot has 0 Snowballs
        if mySnowballs==0:
          rp = 0
          sp = 0
          dp = 100

        #If our bot has up to 5 Snowballs
        elif mySnowballs<=5:
          rp = 0
          sp = 60
          dp = 40
        
        #If our bot has more than 5 Snowballs
        elif mySnowballs<=10:
          rp = 0
          sp = 90
          dp = 10

      #If opponent bot has used 3,4 Ducks
      elif myDucksUsed<=4:
        #If our bot has 0 Snowballs
        if mySnowballs==0:
          rp = 0
          sp = 0
          dp = 100
        #If our bot has up to 4 Snowballs
        elif mySnowballs<=4:
          rp = 0
          sp = 80
          dp = 20
        #If our bot has more than 4 Snowballs
        elif mySnowballs<=10:
          rp = 0
          sp = 100
          dp = 0

    #If Opponent has no snowballs
    if opponentsSnowballs==0:
      #If opponent bot has used all Ducks
      if opponentsDucksUsed==5:
        #If our bot no Snowballs
        if mySnowballs==0:
          rp = 100
          sp = 0
          dp = 0

        #If our bot has Snowballs
        else:
          rp = 0
          sp = 100
          dp = 0

      #If opponent bot has used 0,1,2 Ducks
      elif opponentsDucksUsed<=2:
        #If our bot has no Snowballs
        if mySnowballs==0:
          rp = 100
          sp = 0
          dp = 0
        
        #If our bot has up to 4 Snowballs
        elif mySnowballs<=4:
          rp = 20
          sp = 80
          dp = 0
        
        #If our bot has more than 4 Snowballs
        elif mySnowballs<=10:
          rp = 0
          sp = 100
          dp = 0

      #If opponent bot has used 3,4 Ducks
      elif opponentsDucksUsed<=4:
        #If our bot has no Snowballs
        if mySnowballs==0:
          rp = 100
          sp = 0
          dp = 0
        #If our bot has up to 4 Snowballs
        elif mySnowballs<=4:
          rp = 30
          sp = 70
          dp = 0
        #If our bot has more than 4 Snowballs
        elif mySnowballs==10:
          rp = 0
          sp = 100
          dp = 0
  
  #Detecting patterns in our own bot
  #Has restrictions of myScore<2 so it doesn't mess with  strats in opponents move check near endgame
  if len(myMoveHistory)>=4 and 0<mySnowballs<10 and myDucksUsed<5 and myScore<2:
    #If our last three move were the same break the loop
    if myMoveHistory[-1]==myMoveHistory[-2] and myMoveHistory[-2]==myMoveHistory[-3]:
      if myMoveHistory[-1]=="RELOAD":
        rp = 0
        sp = 100
        dp = 0
      if myMoveHistory[-1]=="THROW" :
        rp = 100
        sp = 0
        dp = 0    
      if myMoveHistory[-1]=="DUCK":
        rp = 0
        sp = 100
        dp = 0
    #If the last 4 moves were alternating break pattern    
    if myMoveHistory[-2]==myMoveHistory[-4] and myMoveHistory[-1]==myMoveHistory[-3]:
      if myMoveHistory[-2]=="RELOAD":
        rp = 0
        sp = 100
        dp = 0
      if myMoveHistory[-2]=="THROW":
        rp = 100
        sp = 0
        dp = 0    
      if myMoveHistory[-2]=="DUCK":
        rp = 0
        sp = 100
        dp = 0

    #If the last 3 moves were different break that pattern   
    if myMoveHistory[-1]!=myMoveHistory[-2] and myMoveHistory[-1]!=myMoveHistory[-3] and myMoveHistory[-2]!=myMoveHistory[-3]:
      if myMoveHistory[-3]=="RELOAD":
        rp = 0
        sp = 100
        dp = 0
      if myMoveHistory[-3]=="THROW":
        rp = 100
        sp = 0
        dp = 0    
      if myMoveHistory[-3]=="DUCK":
        rp = 0
        sp = 100
        dp = 0
        
#Detecting patterns in Other Programs

  if len(myMoveHistory)>=4 and 0<mySnowballs<10 and rp==100:

      #If opponent's moves alternate take advantage
      if opponentMoveHistory[-1]==opponentMoveHistory[-3] and opponentMoveHistory[-2]==opponentMoveHistory[-4]:
      
        if opponentMoveHistory[-2]=="RELOAD":
          rp = 0
          sp = 100
          dp = 0
        if opponentMoveHistory[-2]=="THROW" and myDucksUsed<5:
          rp = 0
          sp = 0
          dp = 100     
        if opponentMoveHistory[-2]=="DUCK" and 0<mySnowballs<10 :
          rp = 100
          sp = 0
          dp = 0
        elif opponentMoveHistory[-2]=="DUCK" and mySnowballs<10:
          rp = 100
          sp = 0
          dp = 0

      #If opponent's last three move were the same take advantage  
      if opponentMoveHistory[-1]!=opponentMoveHistory[-2] and opponentMoveHistory[-1]!=opponentMoveHistory[-3] and opponentMoveHistory[-2]!=opponentMoveHistory[-3]:
        if opponentMoveHistory[-3]=="RELOAD":
          rp = 0
          sp = 100
          dp = 0
        if opponentMoveHistory[-3]=="THROW" and myDucksUsed<5:
          rp = 0
          sp = 0
          dp = 100    
        if opponentMoveHistory[-3]=="DUCK":
          rp = 100
          sp = 0
          dp = 0
          
  #Insurance policy to make sure array is never empty
  if rp==0 and sp==0 and dp==0:
    if mySnowballs==0:
      rp=rp+1
    
    elif mySnowballs>0:
      sp=sp+1
    elif myDucksUsed<5:
      dp=dp+1
  move= choice(["RELOAD"]*rp+ ["THROW"]*sp +["DUCK"]*dp)
  return(move)
